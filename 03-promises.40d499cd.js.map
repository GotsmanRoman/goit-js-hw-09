{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEAC,EAAAF,GAASG,OAAOC,KAAK,CACnBC,MAAO,QACPC,SAAU,aACVC,SAAU,QACVC,cAAc,IAahB,MAAMC,EAAO,CACXC,UAAWC,SAASC,cAAc,UAClCC,WAAYF,SAASC,cAAc,uBACnCE,UAAWH,SAASC,cAAc,sBAClCG,YAAaJ,SAASC,cAAc,yBAGtC,SAASI,EAAcV,EAAUW,GAC/B,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,KACLH,EAEFF,EAAQ,C,SAAEb,E,MAAUW,IAGpBG,EAAO,C,SAAEd,E,MAAUW,GAAQ,GAE5BA,EAAM,G,CAIb,SAASQ,GAAenB,SAAEA,EAAQW,MAAEA,KA7BpC,SAAqBS,EAASC,EAAc,QAC1CzB,EAAAF,GAASG,OAAOyB,QAAQF,EAAS,CAC/BG,QAASF,G,CA6BTG,CAAU,uBAAqBxB,QAAiBW,M,CAEpD,SAASc,GAAazB,SAAEA,EAAQW,MAAEA,KAtClC,SAAmBS,EAASC,EAAc,QACxCzB,EAAAF,GAASG,OAAO6B,QAAQN,EAAS,CAC/BG,QAASF,G,CAsCTM,CAAQ,sBAAoB3B,QAAeW,M,CAW/CR,EAAKC,UAAUwB,iBAAiB,SAASC,IACvCA,EAAEC,iBAVJ,WACE,IAAInB,EAAgC,EAAxBR,EAAKI,WAAWwB,MACxBC,EAA8B,EAAvB7B,EAAKK,UAAUuB,MAC1B,IAAK,IAAIE,EAAI,EAAGA,GAAK9B,EAAKM,YAAYsB,MAAOE,IAC3CvB,EAAcuB,EAAGtB,GAAOuB,KAAKf,GAAgBgB,MAAMV,GACnDd,GAAgBqB,C,CAMlBI,EAAa","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nNotiflix.Notify.init({\n  width: '280px',\n  position: 'center-top', // 'right-top' - 'right-bottom' - 'left-top' - 'left-bottom' - 'center-top' - 'center-bottom' - 'center-center'\n  distance: '100px',\n  clickToClose: true,\n});\nfunction showError(message, valueToFade = '2000') {\n  Notiflix.Notify.failure(message, {\n    timeout: valueToFade,\n  });\n}\nfunction showSuccess(message, valueToFade = '2000') {\n  Notiflix.Notify.success(message, {\n    timeout: valueToFade,\n  });\n}\n\nconst refs = {\n  submitBtn: document.querySelector('button'),\n  delayInput: document.querySelector(\"input[name='delay']\"),\n  stepInput: document.querySelector(\"input[name='step']\"),\n  amountInput: document.querySelector(\"input[name='amount']\"),\n};\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n\n    setTimeout(() => {\n      if (shouldResolve) {\n        // Fulfill\n        resolve({ position, delay });\n      } else {\n        // Reject\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n}\n\nfunction successPromise({ position, delay }) {\n  //console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  showSuccess(`✅ Fulfilled promise ${position} in ${delay}ms`);\n}\nfunction errorPromise({ position, delay }) {\n  //console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n  showError(`❌ Rejected promise ${position} in ${delay}ms`);\n}\nfunction callPromise() {\n  let delay = refs.delayInput.value * 1;\n  let step = refs.stepInput.value * 1;\n  for (let i = 1; i <= refs.amountInput.value; i++) {\n    createPromise(i, delay).then(successPromise).catch(errorPromise);\n    delay = delay + step;\n  }\n}\n\nrefs.submitBtn.addEventListener('click', e => {\n  e.preventDefault();\n  callPromise();\n});\n"],"names":["$7Y9D8","parcelRequire","$parcel$interopDefault","Notify","init","width","position","distance","clickToClose","$47d4ff9957288465$var$refs","submitBtn","document","querySelector","delayInput","stepInput","amountInput","$47d4ff9957288465$var$createPromise","delay","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","$47d4ff9957288465$var$successPromise","message","valueToFade","success","timeout","$47d4ff9957288465$var$showSuccess","$47d4ff9957288465$var$errorPromise","failure","$47d4ff9957288465$var$showError","addEventListener","e","preventDefault","value","step","i","then","catch","$47d4ff9957288465$var$callPromise"],"version":3,"file":"03-promises.40d499cd.js.map"}