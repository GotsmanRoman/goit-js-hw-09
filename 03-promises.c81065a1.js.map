{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAQA,SAASC,EAAUC,EAASC,EAAc,QACxCC,EAAAL,GAASM,OAAOC,QAAQJ,EAAS,CAC/BK,QAASJ,G,CARbC,EAAAL,GAASM,OAAOG,KAAK,CACnBC,MAAO,QACPC,SAAU,aACVC,SAAU,QACVC,cAAc,IAQhB,MAAMC,EAAO,CACXC,UAAWC,SAASC,cAAc,UAClCC,WAAYF,SAASC,cAAc,uBACnCE,UAAWH,SAASC,cAAc,sBAClCG,YAAaJ,SAASC,cAAc,yBAGtC,SAASI,EAAcV,EAAUW,GAC/B,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,KACLH,EAEFF,EAAQ,C,SAAEb,E,MAAUW,IAGpBG,EAAO,C,SAAEd,E,MAAUW,GAAQ,GAE5BA,EAAM,G,CAIb,SAASQ,GAAenB,SAAEA,EAAQW,MAAEA,IAEhCpB,EAAQ,uBAAqBS,QAAiBW,M,CAElD,SAASS,GAAapB,SAAEA,EAAQW,MAAEA,IAE9BpB,EAAQ,sBAAoBS,QAAeW,M,CAW/CR,EAAKC,UAAUiB,iBAAiB,SAASC,IACvCA,EAAEC,iBAVJ,WACE,IAAIZ,EAAgC,EAAxBR,EAAKI,WAAWiB,MACxBC,EAA8B,EAAvBtB,EAAKK,UAAUgB,MAC1B,IAAK,IAAIE,EAAI,EAAGA,GAAKvB,EAAKM,YAAYe,MAAOE,IAC3ChB,EAAcgB,EAAGf,GAAOgB,KAAKR,GAAgBS,MAAMR,GACnDT,GAAgBc,C,CAMlBI,EAAa","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nNotiflix.Notify.init({\n  width: '280px',\n  position: 'center-top', // 'right-top' - 'right-bottom' - 'left-top' - 'left-bottom' - 'center-top' - 'center-bottom' - 'center-center'\n  distance: '100px',\n  clickToClose: true,\n});\nfunction showError(message, valueToFade = '2000') {\n  Notiflix.Notify.failure(message, {\n    timeout: valueToFade,\n  });\n}\n\nconst refs = {\n  submitBtn: document.querySelector('button'),\n  delayInput: document.querySelector(\"input[name='delay']\"),\n  stepInput: document.querySelector(\"input[name='step']\"),\n  amountInput: document.querySelector(\"input[name='amount']\"),\n};\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n\n    setTimeout(() => {\n      if (shouldResolve) {\n        // Fulfill\n        resolve({ position, delay });\n      } else {\n        // Reject\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n}\n\nfunction successPromise({ position, delay }) {\n  //console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  showError(`✅ Fulfilled promise ${position} in ${delay}ms`);\n}\nfunction errorPromise({ position, delay }) {\n  //console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n  showError(`❌ Rejected promise ${position} in ${delay}ms`);\n}\nfunction callPromise() {\n  let delay = refs.delayInput.value * 1;\n  let step = refs.stepInput.value * 1;\n  for (let i = 1; i <= refs.amountInput.value; i++) {\n    createPromise(i, delay).then(successPromise).catch(errorPromise);\n    delay = delay + step;\n  }\n}\n\nrefs.submitBtn.addEventListener('click', e => {\n  e.preventDefault();\n  callPromise();\n});\n"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$showError","message","valueToFade","$parcel$interopDefault","Notify","failure","timeout","init","width","position","distance","clickToClose","$47d4ff9957288465$var$refs","submitBtn","document","querySelector","delayInput","stepInput","amountInput","$47d4ff9957288465$var$createPromise","delay","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","$47d4ff9957288465$var$successPromise","$47d4ff9957288465$var$errorPromise","addEventListener","e","preventDefault","value","step","i","then","catch","$47d4ff9957288465$var$callPromise"],"version":3,"file":"03-promises.c81065a1.js.map"}